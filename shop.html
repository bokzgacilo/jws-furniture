<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>shop</title>

    <!-- font awesome cdn link  -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <script src="https://code.jquery.com/jquery-3.6.4.min.js" integrity="sha256-oP6HI9z1XaZNBrJURtCoUT5SUnxFr8s3BzRl+cbzUq8=" crossorigin="anonymous"></script>
    <!-- custom css file link  -->
    <link rel="stylesheet" href="css/style.css">

</head>
<body>

<style>
  .header-action-buttons {
  display: flex;
  flex-direction: row;
  align-items: center;
  gap: 1.5rem;
}

.avatar {
  height: 40px;
  width: 40px;
  object-fit: cover;
  border-radius: 50px;
}

.cart-button {
  display: none;
  flex-direction: row;
  gap: 1rem;
  align-items: center;
  font-size: 18px;

}

#product-body {
  display: flex;
  flex-direction: column;
  gap: 1rem;

}

#product-body > img {
  width: 50%;
  height: auto;
  object-fit: cover;
}


.signout-button {
  font-size: 16px;
  cursor: pointer;
}
</style>

<!-- header section starts  -->

<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-4" id="staticBackdropLabel">Add To Cart</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div id="product-body" class="modal-body">
        
      </div>
    </div>
  </div>
</div>

<header class="header">

    <a href="index.html" class="logo"> <i class="fas fa-lightbulb"></i> JWS </a>

    <form action="" class="search-form">
        <input type="search" placeholder="search here..." id="search-box">
        <label for="search-box" class="fas fa-search"></label>
    </form>

    <div class="icons header-action-buttons">
        <div id="menu-btn" class="fas fa-bars"></div>
        <div id="search-btn" class="fas fa-search"></div>
        <a class="cart-button" href="cart.html">
          <i class="fas fa-shopping-cart"></i>
        </a>
        <div id='login-btn'>
          <i class='fas fa-user'></i>
        </div>
    </div>

</header>
<div id="closer" class="fas fa-times"></div>
<nav class="navbar">
    <a href="index.html">home</a>
    <a href="cart.html">cart</a>
    <a href="shop.html">shop</a>
    <a href="about.html">about</a>
    <a href="team.html">team</a>
    <a href="blog.html">blog</a>
    <a href="contact.html">contact</a>
</nav>
<!-- login form  -->

<div class="login-form">
    <form action="">
        <h3>login form</h3>
        <input type="email" placeholder="enter your email" class="box">
        <input type="password" placeholder="enter your password" class="box">
        <div class="remember">
            <input type="checkbox" name="" id="remember-me">
            <label for="remember-me">remember me</label>
        </div>
        <input type="submit" value="login now" class="btn">
        <p>forget password? <a href="#">click here</a></p>
        <p>don't have an account? <a href="#">create now</a></p>
    </form>

</div>

<section class="heading">
    <h3>our shop</h3>
    <p> <a href="home.html">home</a> / <span>shop</span> </p>
</section>

<section class="category">

    <h1 class="title"> <span>our categories</span> <a href="#">view all >></a> </h1>

    <div class="box-container">

        <a href="#" class="box">
            <img src="image/icon-1.png" alt="">
            <h3>house sofa</h3>
        </a>

        <a href="#" class="box">
            <img src="image/icon-2.png" alt="">
            <h3>working table</h3>
        </a>

        <a href="#" class="box">
            <img src="image/icon-3.png" alt="">
            <h3>corner table</h3>
        </a>

        <a href="#" class="box">
            <img src="image/icon-4.png" alt="">
            <h3>office chair</h3>
        </a>

        <a href="#" class="box">
            <img src="image/icon-5.png" alt="">
            <h3>new wardrobe</h3>
        </a>

    </div>

</section>

<section class="products">
  <h1 class="title"> <span>our products</span> <a href="#">view all >></a> </h1>
  <div id="product-container" class="box-container">

  </div>
</section>

<!-- footer section  -->

<section class="footer">
  <!-- <div class="box-container">
      <div class="box">
          <h3>quick links</h3>
          <a href="home.html"> <i class="fas fa-arrow-right"></i> home</a>
          <a href="shop.html"> <i class="fas fa-arrow-right"></i> shop</a>
          <a href="about.html"> <i class="fas fa-arrow-right"></i> about</a>
          <a href="team.html"> <i class="fas fa-arrow-right"></i> team</a>
          <a href="blog.html"> <i class="fas fa-arrow-right"></i> blog</a>
          <a href="contact.html"> <i class="fas fa-arrow-right"></i> contact</a>
      </div>

      <div class="box">
          <h3>extra links</h3>
          <a href="#"> <i class="fas fa-arrow-right"></i> my order</a>
          <a href="#"> <i class="fas fa-arrow-right"></i> my wishlist</a>
          <a href="#"> <i class="fas fa-arrow-right"></i> my account</a>
          <a href="#"> <i class="fas fa-arrow-right"></i> my favorite</a>
      </div>

      <div class="box">
          <h3>extra links</h3>
          <a href="#"> <i class="fab fa-facebook-f"></i> facebook</a>
          <a href="#"> <i class="fab fa-twitter"></i> twitter</a>
          <a href="#"> <i class="fab fa-instagram"></i> instagram</a>
          <a href="#"> <i class="fab fa-linkedin"></i> linkedin</a>
          <a href="#"> <i class="fab fa-pinterest"></i> pinterest</a>
      </div>

      <div class="box">
          <h3>newsletter</h3>
          <p>subscribe for latest updates</p>
          <form action="">
              <input type="email" name="" placeholder="enter your email" id="">
              <input type="submit" value="subscribe" class="btn">
          </form>
      </div>
  </div> -->
</section>

<!-- custom js file link  -->
<script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-firestore-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.0.2/firebase-auth-compat.js"></script>
<script src="assets//bootstrap/js/bootstrap.min.js"></script>
<script src="app.js"></script>

<script src="js/script.js"></script>
<script src="js/shop.js"></script>

<script>
  if(localStorage.getItem('authenticated') != 'true'){
    alert('You need to login first.');
    window.location.replace("index.html")
  }else {
    $.ajax({
      type: 'get',
      url: 'api/getAccountDetails.php',
      data: {
        uid: localStorage.getItem('uid')
      },
      success: (response) => {
        $('#login-btn').replaceWith(response)
      }
    })
  }

  function addtocart(product_id){
    var quantity = $(`#quantity${product_id}`).val();
    $.ajax({
      type: 'post',
      url: 'api/addtocart.php',
      data: {
        id: product_id,
        quantity: quantity,
        uid: localStorage.getItem('uid')
      },
      success: (response) => {
        // console.log(response)
        alert(response)
        location.reload();
      }
    })
  }

  function openProductModal(product_id) {
    $.ajax({
      type: 'get',
      url: 'api/getProductDetail.php',
      data: {
        id: product_id
      },
      success: (response) => {
        $('#staticBackdrop').modal('show');

        $('#product-body').html(response)
      }
    })

  }
</script>
</body>
</html>